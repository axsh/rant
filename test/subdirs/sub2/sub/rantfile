
file "rootdep.t" do |t|
    sys.touch t.name
end

file "rootref.t" => "#t" do |t|
    test(?f, "../../t") || t.fail
    sys.touch t.name
end

gen Directory, "dt/dt"

gen Task, "gt" => "dt" do |t|
    t.needed { !test(?f, t.name) }
    t.act { sys.touch t.name }
end

gen LightTask, "lt" do |lt|
    lt.needed { !test(?f, lt.name) }
    lt.act { sys.touch lt.name }
end

task :clean do
    sys.rm_rf %w(dt)
    sys.rm_f Dir["*t"]
end

# vim:ft=ruby
