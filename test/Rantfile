
gen Action do
    puts "running action" if var[:act_verbose]
end

task :do_nothing

file "auto.rf" do |t|
    open(t.name, "w") { |f|
	f << <<-EOF
	    task "auto.t" do |t|
		sys.touch t.name
	    end
	EOF
    }
end

file "version.t" do |t|
    open(t.name, "w") { |f| f.puts "1.0" }
end

gen Action do
    rac.build "version.t"
end

source "auto.rf"

task :clean do
    sys.rm_f %w(auto.t auto.rf version.t)
end

# vim: ft=ruby
